<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>
div{ width:100px; height:100px; margin:20px; float:left; background:red; filter:alpha(opacity:30); opacity:0.3;}
</style>
<script>
/*//多个物体运动，不能有共用的，例如此案例中alpha,timer不能共用
window.onload=function()
{
	var oDiv1=document.getElementById('div1')
     oDiv1.onmouseover=function()
		{
			startMove(this,400)
			}
		oDiv1.onmouseout=function()
		{
			startMove(this,100)
			}
	
	var oDiv2=document.getElementById('div2')
     oDiv2.onmouseover=function()
		{
			startMove2(this,400)
			}
		oDiv2.onmouseout=function()
		{
			startMove2(this,100)
			}
}
	//var alpha=30;
function startMove(obj,iTarget)
{
	
	clearInterval(obj.timer)
	obj.timer=setInterval(function()
	{
		var speed=(iTarget-obj.offsetHeight)/6
		speed=speed>0?Math.ceil(speed):Math.floor(speed)
		if(obj.offsetHeight==iTarget)
		{
			clearInterval(obj.timer)
			}
		else{
			     obj.style.height=obj.offsetHeight+speed+'px'
			}
		},30)
	}
function startMove2(obj,iTarget)
{
	
	clearInterval(obj.timer)
	obj.timer=setInterval(function()
	{
		var speed=(iTarget-obj.offsetWidth)/6
		speed=speed>0?Math.ceil(speed):Math.floor(speed)
		if(obj.offsetWidth==iTarget)
		{
			clearInterval(obj.timer)
			}	
		else{
			     obj.style.width=obj.offsetWidth+speed+'px'
			}
		},30)
	}*/
//用currentStyle和getComputedStyle方法获取非行间样式，来解决offset不能用border问题
function getStyle(obj,name)
{
	if(obj.currentStyle)
	{
		return obj.currentStyle[name]
		}
	else
	{
		return getComputedStyle(obj,false)[name]
		}
	}
window.onload=function()
{
	var oDiv1=document.getElementById('div1')
     oDiv1.onmouseover=function()
		{
			startMove(this,400)
			}
		oDiv1.onmouseout=function()
		{
			startMove(this,100)
			}
			}
	function startMove(obj,iTarget)
{
	
	clearInterval(obj.timer)
	obj.timer=setInterval(function()
	{
		var cut=parseInt(getStyle(obj,'height'))
		var speed=(iTarget-cut)/6;
		speed=speed>0?Math.ceil(speed):Math.floor(speed)
		if(cut==iTarget)
		{
			clearInterval(obj.timer)
			}
		else{
			     obj.style.height=cut+speed+'px'
			}
		},30)
	}
</script>
</head>

<body>
<div id="div1">变高</div>

<div id="div2">变宽</div>

</body>
</html>
